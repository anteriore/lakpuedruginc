<style>
	.highlightred{
		background-color:red;
	}
</style>


<form novalidate ng-submit="$ctrl.submitForm();" method="post">
<div class="form-content">
  <div class="horizontal-align -start rmpm-content">
			  <div class="horizontal-align -start rmpm-code">
			    <div class="form-group rmpm">
			    		<label class="label capitalize-text">MIS Number</label>
			    		<input type="text" readonly class="form-control -border" value="AUTOGENERATED UPON CREATION"/>
			    </div>
			    <div class="form-group rmpm">
			    		<label class="label capitalize-text">Date</label>
			    		<input type="date" ng-model="$ctrl.mis.date" class="form-control -border"/>
			    </div>
			  </div>
		</div>
    	<label class="remarks">Requested By:</label>
    	<input type="text" class="form-control -border" ng-value="$ctrl.name"/>
    <div class="form-group approve-remarks">
    	<label class="remarks">Remarks</label>
    	<textarea class="form-control -border" ng-model="$ctrl.mis.remarks" placeholder="Remarks" rows="3"></textarea>
    </div>
    <table class='table table-bordered'>
              <thead>
                <tr>
                  <th>Control #</th>
                  <th>Item</th>
                  <th>Type</th>
                  <th>Stock on Hand</th>
                  <th>Quantity</th>
                  <th>Remaining</th>
                </tr>
              </thead>
              <tbody>
                <tr ng-repeat="inventory in $ctrl.mis.inventoryList" ng-class="{highlightred: $ctrl.stockOnHandList[$index] - $ctrl.mis.inventoryList[$index].quantity < 0}">
                  <td>{{inventory.controlNumber}}</td>
                  <td>{{inventory.item.code}} {{inventory.item.name}}</td>
                  <td>
				  	<label class='custom-label -narrow' ng-class="{'-apple':inventory.item.type.code == 'RM', '-orangish':inventory.item.type.code =='PM'}">{{inventory.item.type.code}}</label>
				  </td>
                  <td>{{$ctrl.stockOnHandList[$index]}}</td>
                  <td><input type="text"  ng-model="$ctrl.mis.inventoryList[$index].quantity"/></td>
                  <td>{{$ctrl.stockOnHandList[$index] - $ctrl.mis.inventoryList[$index].quantity}}</td>
                </tr>
              </tbody>
            </table>
		<div class="request-action">
			<button type="button" ng-click="$ctrl.selectFromInventory()" class="btn btn-create btn-md">Select from Inventory</button>
		</div>
    <div class="request-action">
      <button type="submit" class="btn btn-create btn-md">{{$ctrl.button}}</button>
    </div>
</div>
</form>


<find-inventory-modal
			issuedinventorylist="$ctrl.mis.inventoryList"
			stockonhand="$ctrl.stockOnHandList"
            message="{{ $ctrl.error }}"
            >
</find-inventory-modal>